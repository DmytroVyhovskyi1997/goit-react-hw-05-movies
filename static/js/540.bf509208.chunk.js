(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[540],{458:function(t,e,n){"use strict";n.d(e,{Bt:function(){return f},TP:function(){return u},Tg:function(){return a},vw:function(){return i},y:function(){return s}});var r=n(683),c=n(243);c.Z.defaults.baseURL="https://api.themoviedb.org/3";var o="?api_key=9a450fbd652c62e887bc78d79e7a75f2",a=function(){return(0,c.Z)("/trending/movie/day".concat(o)).then((function(t){return t.data.results}))},i=function(t){return(0,c.Z)("/search/movie".concat(o,"&query=").concat(t)).then((function(t){return t.data.results}))},u=function(t){return(0,c.Z)("/movie/".concat(t).concat(o,"&page=1&language=en-US")).then((function(t){var e=t.data,n=e.poster_path,c=e.backdrop_path,o="https://image.tmdb.org/t/p/original",a=n?"".concat(o).concat(n):"".concat(o).concat(c);return(0,r.Z)((0,r.Z)({},t.data),{},{imgUrl:a})}))},s=function(t){return(0,c.Z)("/movie/".concat(t,"/credits").concat(o,"&language=en-US")).then((function(t){return t.data.cast.map((function(t){return{id:t.id,name:t.name,profile_path:t.profile_path,character:t.character}}))}))},f=function(t){return(0,c.Z)("/movie/".concat(t,"/reviews").concat(o,"&language=en-US")).then((function(t){return t.data.results.map((function(t){return{id:t.id,author:t.author,content:t.content}}))}))}},126:function(t,e,n){"use strict";var r=n(87),c=n(184);e.Z=function(t){var e=t.movies;return(0,c.jsx)("ul",{children:e.map((function(t){return(0,c.jsx)("li",{children:(0,c.jsx)(r.rU,{to:"/movies/".concat(t.id),children:t.title})},t.id)}))})}},540:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return l}});var r=n(439),c=n(791),o=n(458),a=n(126),i=n(184),u=function(t){var e=t.updateQueryString;return(0,i.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=t.target.elements.title.value.trim();e(n)},children:[(0,i.jsx)("input",{type:"text",name:"title"}),(0,i.jsx)("button",{type:"submit",children:"Search"})]})},s=n(7),f=n.n(s),p=n(87);a.Z.propTypes={movies:f().arrayOf(f().object).isRequired};var l=function(){var t=(0,p.lr)(),e=(0,r.Z)(t,2),n=e[0],s=e[1],f=(0,c.useState)([]),l=(0,r.Z)(f,2),h=l[0],d=l[1],m=n.get("query");(0,c.useEffect)((function(){m&&(0,o.vw)(m).then((function(t){return d(t)})).catch((function(t){return console.log(t.message)}))}),[m]);return(0,i.jsxs)("div",{children:[(0,i.jsx)(u,{updateQueryString:function(t){s(""!==t?{query:t}:{})}}),h&&(h.length>0?(0,i.jsx)(a.Z,{movies:h}):(0,i.jsx)("b",{children:"No movies found"}))]})}},888:function(t,e,n){"use strict";var r=n(47);function c(){}function o(){}o.resetWarningCache=c,t.exports=function(){function t(t,e,n,c,o,a){if(a!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:c};return n.PropTypes=n,n}},7:function(t,e,n){t.exports=n(888)()},47:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);
//# sourceMappingURL=540.bf509208.chunk.js.map